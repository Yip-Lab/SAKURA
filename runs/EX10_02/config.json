{
  "remarks": "Plan B (use signature dimision to represent out of panel genes), forked from EX09_03. For signature part, using FC regressor.",
  "log_path": "./runs/EX10_02/logs/",
  "reproducible": "True",
  "rnd_seed": 114514,
  "dataset": {
    "type": "rna_count_sparse",
    "gene_expr_MM_path": "./dataset/10X_PBMC_V1_V3_V31_integrated/cleaned_log_unfiltered_expr_mat.mtx",
    "gene_name_csv_path": "./dataset/10X_PBMC_V1_V3_V31_integrated/cleaned_log_unfiltered_gene_names.csv",
    "cell_name_csv_path": "./dataset/10X_PBMC_V1_V3_V31_integrated/cleaned_log_unfiltered_cell_names.csv",
    "pheno_csv_path": "./dataset/10X_PBMC_V1_V3_V31_integrated/pheno.csv",
    "pheno_meta_path": "./runs/EX10_02/pheno_meta.json",
    "signature_config_path": "./runs/EX10_02/signature_config.json",
    "expr_mat_pre_slice": "True",
    "selected_pheno": [
      "data_key",
      "protein_markers",
      "source"
    ],
    "selected_signature": [
      "outside_panel"
    ]
  },
  "device": "cpu",
  "manual_split": "True",
  "manual_split_pkl_path": "./runs/EX10_02/splits.pkl",
  "overall_train_test_split": {
    "type": "none"
  },
  "main_latent": {
    "encoder_neurons": 50,
    "decoder_neurons": 50,
    "latent_dim": 2,
    "loss": {
      "L2": {
        "type": "MSE",
        "init_weight": 1.0,
        "progressive_const": 1.0,
        "progressive_start_epoch": 100
      },
      "L1": {
        "type": "L1",
        "init_weight": 1.0,
        "progressive_const": 1.0,
        "progressive_start_epoch": 100
      }
    },
    "regularization": {
      "uniform_shape_unsupervised": {
        "type": "SW2_uniform",
        "init_weight": 1,
        "progressive_const": 1.1,
        "progressive_start_epoch": 1,
        "max_weight": 10.0,
        "SW2_num_projections": 50,
        "uniform_low": -10,
        "uniform_high": 10
      }
    }
  },
  "optimizer": {
    "type": "RMSProp",
    "RMSProp_lr": 0.001,
    "RMSProp_alpha": 0.9
  },
  "dump_configs": "True",
  "dump_splits": "True",
  "preslice_tests": "True",
  "story": [
    {
      "action": "train_hybrid",
      "ticks": 50000,
      "hybrid_mode": "interleave",
      "split_configs": {
        "v1": {
          "use_split": "pure_v1_overall_train",
          "batch_size": 100,
          "train_main_latent": "True",
          "train_pheno": "True",
          "selected_pheno": {
            "data_key": {
              "loss": "*",
              "regularization": "*"
            },
            "protein_markers": {
              "loss": [],
              "regularization": "*"
            }
          },
          "train_signature": "True"
        },
        "v3": {
          "use_split": "protein_v3_overall_train",
          "batch_size": 50,
          "train_main_latent": "True",
          "train_pheno": "True",
          "selected_pheno": {
            "data_key": {
              "loss": [],
              "regularization": "*"
            },
            "protein_markers": {
              "loss": "*",
              "regularization": "*"
            }
          },
          "train_signature": "True"
        },
        "v31": {
          "use_split": "targeted_v31_overall_train",
          "batch_size": 50,
          "train_main_latent": "True",
          "train_pheno": "True",
          "selected_pheno": {
            "data_key": {
              "loss": [],
              "regularization": "*"
            },
            "protein_markers": {
              "loss": [],
              "regularization": "*"
            }
          },
          "train_signature": "True"
        },
        "merged": {
          "use_split": "merged_overall_train",
          "batch_size": 200,
          "train_main_latent": "True",
          "train_pheno": "True",
          "selected_pheno": {
            "data_key": {
              "loss": [],
              "regularization": "*"
            },
            "protein_markers": {
              "loss": [],
              "regularization": "*"
            },
            "source": {
              "loss": "*",
              "regularization": "*"
            }
          },
          "train_signature": "True"
        }
      },
      "prog_loss_weight_mode": "epoch_end",
      "loss_weights_to_prog_on_test": {},
      "perform_test": "True",
      "test_segment": 5000,
      "make_logs": "True",
      "log_prefix": "hybrid_v1_v3_v31",
      "tests": [
        {
          "on_split": "merged_overall_test",
          "make_logs": "True",
          "log_prefix": "merged_overall_test",
          "dump_latent": "True",
          "latent_prefix": "merged_overall_test_all_latent"
        },
        {
          "on_split": "pure_v1_overall_test",
          "make_logs": "True",
          "log_prefix": "pure_v1_overall_test",
          "dump_latent": "True",
          "latent_prefix": "pure_v1_overall_test_all_latent"
        },
        {
          "on_split": "protein_v3_overall_test",
          "make_logs": "True",
          "log_prefix": "protein_v3_overall_test",
          "dump_latent": "True",
          "latent_prefix": "protein_v3_overall_test_all_latent"
        },
        {
          "on_split": "targeted_v31_overall_test",
          "make_logs": "True",
          "log_prefix": "targeted_v31_overall_test",
          "dump_latent": "True",
          "latent_prefix": "targeted_v31_overall_test_all_latent"
        },
        {
          "on_split": "merged_overall_train",
          "make_logs": "False",
          "log_prefix": "merged_overall_train",
          "dump_latent": "True",
          "latent_prefix": "merged_overall_train_all_latent"
        },
        {
          "on_split": "pure_v1_overall_train",
          "make_logs": "False",
          "log_prefix": "pure_v1_overall_train",
          "dump_latent": "True",
          "latent_prefix": "pure_v1_overall_train_all_latent"
        },
        {
          "on_split": "protein_v3_overall_train",
          "make_logs": "False",
          "log_prefix": "protein_v3_overall_train",
          "dump_latent": "True",
          "latent_prefix": "protein_v3_overall_train_all_latent"
        },
        {
          "on_split": "targeted_v31_overall_train",
          "make_logs": "False",
          "log_prefix": "targeted_v31_overall_train",
          "dump_latent": "True",
          "latent_prefix": "targeted_v31_overall_train_all_latent"
        }
      ]
    }
  ]
}